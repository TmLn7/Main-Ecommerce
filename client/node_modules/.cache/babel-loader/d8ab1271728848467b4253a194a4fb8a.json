{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { url, setHeaders } from \"./api\";\nconst initialState = {\n  list: [],\n  status: null\n};\nexport const ordersFetch = createAsyncThunk(\"orders/ordersFetch\", async () => {\n  try {\n    const response = await axios.get(`${url}/orders`, setHeaders());\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const ordersEdit = createAsyncThunk(\"orders/ordersEdit\", async (values, {\n  getState\n}) => {\n  const state = getState();\n  let currentOrder = state.orders.list.filter(order => order._id === values.id);\n  const newOrder = { ...currentOrder[0],\n    delivery_status: values.delivery_status\n  };\n\n  try {\n    const response = await axios.put(`${url}/orders/${values.id}`, newOrder, setHeaders());\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nconst ordersSlice = createSlice({\n  name: \"orders\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [ordersFetch.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [ordersFetch.fulfilled]: (state, action) => {\n      state.list = action.payload;\n      state.status = \"success\";\n    },\n    [ordersFetch.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    },\n    [ordersEdit.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [ordersEdit.fulfilled]: (state, action) => {\n      const updatedOrders = state.list.map(order => order._id === action.payload._id ? action.payload : order);\n      state.list = updatedOrders;\n      state.status = \"success\";\n    },\n    [ordersEdit.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    }\n  }\n});\nexport default ordersSlice.reducer;","map":{"version":3,"sources":["/Users/tmln/Desktop/ecommerce-premium-main/frontend/src/slices/ordersSlice.js"],"names":["createSlice","createAsyncThunk","axios","url","setHeaders","initialState","list","status","ordersFetch","response","get","data","error","console","log","ordersEdit","values","getState","state","currentOrder","orders","filter","order","_id","id","newOrder","delivery_status","put","ordersSlice","name","reducers","extraReducers","pending","action","fulfilled","payload","rejected","updatedOrders","map","reducer"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { url, setHeaders } from \"./api\";\n\nconst initialState = {\n  list: [],\n  status: null,\n};\n\nexport const ordersFetch = createAsyncThunk(\"orders/ordersFetch\", async () => {\n  try {\n    const response = await axios.get(`${url}/orders`, setHeaders());\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport const ordersEdit = createAsyncThunk(\n  \"orders/ordersEdit\",\n  async (values, { getState }) => {\n    const state = getState();\n\n    let currentOrder = state.orders.list.filter(\n      (order) => order._id === values.id\n    );\n\n    const newOrder = {\n      ...currentOrder[0],\n      delivery_status: values.delivery_status,\n    };\n\n    try {\n      const response = await axios.put(\n        `${url}/orders/${values.id}`,\n        newOrder,\n        setHeaders()\n      );\n\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\n\nconst ordersSlice = createSlice({\n  name: \"orders\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [ordersFetch.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [ordersFetch.fulfilled]: (state, action) => {\n      state.list = action.payload;\n      state.status = \"success\";\n    },\n    [ordersFetch.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    },\n    [ordersEdit.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [ordersEdit.fulfilled]: (state, action) => {\n      const updatedOrders = state.list.map((order) =>\n        order._id === action.payload._id ? action.payload : order\n      );\n      state.list = updatedOrders;\n      state.status = \"success\";\n    },\n    [ordersEdit.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    },\n  },\n});\n\nexport default ordersSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}