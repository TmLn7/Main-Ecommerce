{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { url, setHeaders } from \"./api\";\nimport { toast } from \"react-toastify\";\nconst initialState = {\n  list: [],\n  status: null,\n  deleteStatus: null\n};\nexport const usersFetch = createAsyncThunk(\"users/usersFetch\", async () => {\n  try {\n    const response = await axios.get(`${url}/users`, setHeaders());\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const userDelete = createAsyncThunk(\"users/userDelete\", async id => {\n  try {\n    const response = await axios.delete(`${url}/users/${id}`, setHeaders());\n    return response.data;\n  } catch (error) {\n    var _error$response;\n\n    console.log(error.response.data);\n    toast.error((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data, {\n      position: \"bottom-left\"\n    });\n  }\n});\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [usersFetch.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [usersFetch.fulfilled]: (state, action) => {\n      state.list = action.payload;\n      state.status = \"success\";\n    },\n    [usersFetch.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    },\n    [userDelete.pending]: (state, action) => {\n      state.deleteStatus = \"pending\";\n    },\n    [userDelete.fulfilled]: (state, action) => {\n      const newList = state.list.filter(user => user._id !== action.payload._id);\n      state.list = newList;\n      state.deleteStatus = \"success\";\n      toast.error(\"User Deleted!\", {\n        position: \"bottom-left\"\n      });\n    },\n    [userDelete.rejected]: (state, action) => {\n      state.deleteStatus = \"rejected\";\n    }\n  }\n});\nexport default usersSlice.reducer;","map":{"version":3,"sources":["/Users/tmln/Desktop/ecommerce-premium-main/frontend/src/slices/UsersSlice.js"],"names":["createSlice","createAsyncThunk","axios","url","setHeaders","toast","initialState","list","status","deleteStatus","usersFetch","response","get","data","error","console","log","userDelete","id","delete","position","usersSlice","name","reducers","extraReducers","pending","state","action","fulfilled","payload","rejected","newList","filter","user","_id","reducer"],"mappings":"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","sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { url, setHeaders } from \"./api\";\nimport { toast } from \"react-toastify\";\n\nconst initialState = {\n  list: [],\n  status: null,\n  deleteStatus: null,\n};\n\nexport const usersFetch = createAsyncThunk(\"users/usersFetch\", async () => {\n  try {\n    const response = await axios.get(`${url}/users`, setHeaders());\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport const userDelete = createAsyncThunk(\"users/userDelete\", async (id) => {\n  try {\n    const response = await axios.delete(`${url}/users/${id}`, setHeaders());\n\n    return response.data;\n  } catch (error) {\n    console.log(error.response.data);\n    toast.error(error.response?.data, {\n      position: \"bottom-left\",\n    });\n  }\n});\n\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [usersFetch.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [usersFetch.fulfilled]: (state, action) => {\n      state.list = action.payload;\n      state.status = \"success\";\n    },\n    [usersFetch.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    },\n    [userDelete.pending]: (state, action) => {\n      state.deleteStatus = \"pending\";\n    },\n    [userDelete.fulfilled]: (state, action) => {\n      const newList = state.list.filter(\n        (user) => user._id !== action.payload._id\n      );\n      state.list = newList;\n      state.deleteStatus = \"success\";\n      toast.error(\"User Deleted!\", {\n        position: \"bottom-left\",\n      });\n    },\n    [userDelete.rejected]: (state, action) => {\n      state.deleteStatus = \"rejected\";\n    },\n  },\n});\n\nexport default usersSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}