{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { url, setHeaders } from \"./api\";\nimport { toast } from \"react-toastify\";\nconst initialState = {\n  list: [],\n  status: null,\n  deleteStatus: null\n};\nexport const usersFetch = createAsyncThunk(\"users/usersFetch\", async () => {\n  try {\n    const response = await axios.get(`${url}/users`, setHeaders());\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const userDelete = createAsyncThunk(\"users/userDelete\", async id => {\n  try {\n    const response = await axios.delete(`${url}/users/${id}`, setHeaders());\n    return response.data;\n  } catch (error) {\n    var _error$response;\n\n    console.log(error.response.data);\n    toast.error((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data, {\n      position: \"bottom-left\"\n    });\n  }\n});\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [usersFetch.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [usersFetch.fulfilled]: (state, action) => {\n      state.list = action.payload;\n      state.status = \"success\";\n    },\n    [usersFetch.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    },\n    [userDelete.pending]: (state, action) => {\n      state.deleteStatus = \"pending\";\n    },\n    [userDelete.fulfilled]: (state, action) => {\n      const newList = state.list.filter(user => user._id !== action.payload._id);\n      state.list = newList;\n      state.deleteStatus = \"success\";\n      toast.error(\"User Deleted!\", {\n        position: \"bottom-left\"\n      });\n    },\n    [userDelete.rejected]: (state, action) => {\n      state.deleteStatus = \"rejected\";\n    }\n  }\n});\nexport default usersSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","url","setHeaders","toast","initialState","list","status","deleteStatus","usersFetch","response","get","data","error","console","log","userDelete","id","delete","position","usersSlice","name","reducers","extraReducers","pending","state","action","fulfilled","payload","rejected","newList","filter","user","_id","reducer"],"sources":["/Users/tmln/Desktop/Main-Ecommerce/client/src/slices/UsersSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { url, setHeaders } from \"./api\";\nimport { toast } from \"react-toastify\";\n\nconst initialState = {\n  list: [],\n  status: null,\n  deleteStatus: null,\n};\n\nexport const usersFetch = createAsyncThunk(\"users/usersFetch\", async () => {\n  try {\n    const response = await axios.get(`${url}/users`, setHeaders());\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nexport const userDelete = createAsyncThunk(\"users/userDelete\", async (id) => {\n  try {\n    const response = await axios.delete(`${url}/users/${id}`, setHeaders());\n\n    return response.data;\n  } catch (error) {\n    console.log(error.response.data);\n    toast.error(error.response?.data, {\n      position: \"bottom-left\",\n    });\n  }\n});\n\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [usersFetch.pending]: (state, action) => {\n      state.status = \"pending\";\n    },\n    [usersFetch.fulfilled]: (state, action) => {\n      state.list = action.payload;\n      state.status = \"success\";\n    },\n    [usersFetch.rejected]: (state, action) => {\n      state.status = \"rejected\";\n    },\n    [userDelete.pending]: (state, action) => {\n      state.deleteStatus = \"pending\";\n    },\n    [userDelete.fulfilled]: (state, action) => {\n      const newList = state.list.filter(\n        (user) => user._id !== action.payload._id\n      );\n      state.list = newList;\n      state.deleteStatus = \"success\";\n      toast.error(\"User Deleted!\", {\n        position: \"bottom-left\",\n      });\n    },\n    [userDelete.rejected]: (state, action) => {\n      state.deleteStatus = \"rejected\";\n    },\n  },\n});\n\nexport default usersSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,EAAcC,UAAd,QAAgC,OAAhC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAE,EADa;EAEnBC,MAAM,EAAE,IAFW;EAGnBC,YAAY,EAAE;AAHK,CAArB;AAMA,OAAO,MAAMC,UAAU,GAAGT,gBAAgB,CAAC,kBAAD,EAAqB,YAAY;EACzE,IAAI;IACF,MAAMU,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAN,CAAW,GAAET,GAAI,QAAjB,EAA0BC,UAAU,EAApC,CAAvB;IAEA,OAAOO,QAAQ,CAACE,IAAhB;EACD,CAJD,CAIE,OAAOC,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AACF,CARyC,CAAnC;AAUP,OAAO,MAAMG,UAAU,GAAGhB,gBAAgB,CAAC,kBAAD,EAAqB,MAAOiB,EAAP,IAAc;EAC3E,IAAI;IACF,MAAMP,QAAQ,GAAG,MAAMT,KAAK,CAACiB,MAAN,CAAc,GAAEhB,GAAI,UAASe,EAAG,EAAhC,EAAmCd,UAAU,EAA7C,CAAvB;IAEA,OAAOO,QAAQ,CAACE,IAAhB;EACD,CAJD,CAIE,OAAOC,KAAP,EAAc;IAAA;;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACH,QAAN,CAAeE,IAA3B;IACAR,KAAK,CAACS,KAAN,oBAAYA,KAAK,CAACH,QAAlB,oDAAY,gBAAgBE,IAA5B,EAAkC;MAChCO,QAAQ,EAAE;IADsB,CAAlC;EAGD;AACF,CAXyC,CAAnC;AAaP,MAAMC,UAAU,GAAGrB,WAAW,CAAC;EAC7BsB,IAAI,EAAE,OADuB;EAE7BhB,YAF6B;EAG7BiB,QAAQ,EAAE,EAHmB;EAI7BC,aAAa,EAAE;IACb,CAACd,UAAU,CAACe,OAAZ,GAAsB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACvCD,KAAK,CAAClB,MAAN,GAAe,SAAf;IACD,CAHY;IAIb,CAACE,UAAU,CAACkB,SAAZ,GAAwB,CAACF,KAAD,EAAQC,MAAR,KAAmB;MACzCD,KAAK,CAACnB,IAAN,GAAaoB,MAAM,CAACE,OAApB;MACAH,KAAK,CAAClB,MAAN,GAAe,SAAf;IACD,CAPY;IAQb,CAACE,UAAU,CAACoB,QAAZ,GAAuB,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MACxCD,KAAK,CAAClB,MAAN,GAAe,UAAf;IACD,CAVY;IAWb,CAACS,UAAU,CAACQ,OAAZ,GAAsB,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACvCD,KAAK,CAACjB,YAAN,GAAqB,SAArB;IACD,CAbY;IAcb,CAACQ,UAAU,CAACW,SAAZ,GAAwB,CAACF,KAAD,EAAQC,MAAR,KAAmB;MACzC,MAAMI,OAAO,GAAGL,KAAK,CAACnB,IAAN,CAAWyB,MAAX,CACbC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaP,MAAM,CAACE,OAAP,CAAeK,GADxB,CAAhB;MAGAR,KAAK,CAACnB,IAAN,GAAawB,OAAb;MACAL,KAAK,CAACjB,YAAN,GAAqB,SAArB;MACAJ,KAAK,CAACS,KAAN,CAAY,eAAZ,EAA6B;QAC3BM,QAAQ,EAAE;MADiB,CAA7B;IAGD,CAvBY;IAwBb,CAACH,UAAU,CAACa,QAAZ,GAAuB,CAACJ,KAAD,EAAQC,MAAR,KAAmB;MACxCD,KAAK,CAACjB,YAAN,GAAqB,UAArB;IACD;EA1BY;AAJc,CAAD,CAA9B;AAkCA,eAAeY,UAAU,CAACc,OAA1B"},"metadata":{},"sourceType":"module"}