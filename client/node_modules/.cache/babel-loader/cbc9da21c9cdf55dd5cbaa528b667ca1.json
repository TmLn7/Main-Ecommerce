{"ast":null,"code":"var _jsxFileName = \"/Users/tmln/Desktop/ecommerce-premium-main/frontend/src/components/Details/UserProfile.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { setHeaders, url } from \"../../slices/api\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UserProfile = () => {\n  _s();\n\n  const params = useParams();\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    isAdmin: false,\n    password: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const [updating, setUpdating] = useState(false);\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        setLoading(true);\n        const res = await axios.get(`${url}/users/find/${params.id}`, setHeaders());\n        setUser({ ...res.data,\n          password: \"\"\n        });\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, [params.id]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      setUpdating(true);\n      const res = await axios.put(`${url}/users/${params.id}`, { ...user\n      }, setHeaders());\n      setUser({ ...res.data,\n        password: \"\"\n      });\n      toast.success(\"Profile updated...\", {\n        position: \"bottom-left\"\n      });\n      setUpdating(false);\n    } catch (err) {\n      console.log(err);\n      setUpdating(false);\n      toast.error(err.response.data, {\n        position: \"bottom-left\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledProfile, {\n    children: /*#__PURE__*/_jsxDEV(ProfileContainer, {\n      children: loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"User Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), user.isAdmin ? /*#__PURE__*/_jsxDEV(Admin, {\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Customer, {\n          children: \"Customer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          value: user.name,\n          onChange: e => setUser({ ...user,\n            name: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          value: user.email,\n          onChange: e => setUser({ ...user,\n            email: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: user.password,\n          id: \"password\",\n          onChange: e => setUser({ ...user,\n            password: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: updating ? \"Updating\" : \"Update Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserProfile, \"Xe5fAQfe5U71XJIAW14T3sv6MLw=\", false, function () {\n  return [useParams];\n});\n\n_c = UserProfile;\nexport default UserProfile;\nconst StyledProfile = styled.div`\n  margin: 3rem;\n  display: flex;\n  justify-content: center;\n`;\n_c2 = StyledProfile;\nconst ProfileContainer = styled.div`\n  max-width: 500px;\n  width: 100%;\n  height: auto;\n  display: flex;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  border-radius: 5px;\n  padding: 2rem;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    h3 {\n      margin-bottom: 0.5rem;\n    }\n\n    label {\n      margin-bottom: 0.2rem;\n      color: gray;\n    }\n    input {\n      margin-bottom: 1rem;\n      outline: none;\n      border: none;\n      border-bottom: 1px solid gray;\n    }\n  }\n`;\n_c3 = ProfileContainer;\nconst Admin = styled.div`\n  color: rgb(253, 181, 40);\n  background: rgb(253, 181, 40, 0.12);\n  padding: 3px 5px;\n  border-radius: 3px;\n  font-size: 14px;\n  margin-bottom: 1rem;\n`;\n_c4 = Admin;\nconst Customer = styled.div`\n  color: rgb(38, 198, 249);\n  background-color: rgb(38, 198, 249, 0.12);\n  padding: 3px 5px;\n  border-radius: 3px;\n  font-size: 14px;\n  margin-bottom: 1rem;\n`;\n_c5 = Customer;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"UserProfile\");\n$RefreshReg$(_c2, \"StyledProfile\");\n$RefreshReg$(_c3, \"ProfileContainer\");\n$RefreshReg$(_c4, \"Admin\");\n$RefreshReg$(_c5, \"Customer\");","map":{"version":3,"sources":["/Users/tmln/Desktop/ecommerce-premium-main/frontend/src/components/Details/UserProfile.jsx"],"names":["useEffect","useState","styled","useParams","axios","setHeaders","url","toast","UserProfile","params","user","setUser","name","email","isAdmin","password","loading","setLoading","updating","setUpdating","fetchUser","res","get","id","data","err","console","log","handleSubmit","e","preventDefault","put","success","position","error","response","target","value","StyledProfile","div","ProfileContainer","Admin","Customer"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { setHeaders, url } from \"../../slices/api\";\nimport { toast } from \"react-toastify\";\n\nconst UserProfile = () => {\n  const params = useParams();\n\n  const [user, setUser] = useState({\n    name: \"\",\n    email: \"\",\n    isAdmin: false,\n    password: \"\",\n  });\n\n  const [loading, setLoading] = useState(false);\n  const [updating, setUpdating] = useState(false);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        setLoading(true);\n        const res = await axios.get(\n          `${url}/users/find/${params.id}`,\n          setHeaders()\n        );\n\n        setUser({ ...res.data, password: \"\" });\n        setLoading(false);\n      } catch (err) {\n        console.log(err);\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, [params.id]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      setUpdating(true);\n      const res = await axios.put(\n        `${url}/users/${params.id}`,\n        {\n          ...user,\n        },\n        setHeaders()\n      );\n\n      setUser({ ...res.data, password: \"\" });\n      toast.success(\"Profile updated...\", {\n        position: \"bottom-left\",\n      });\n\n      setUpdating(false);\n    } catch (err) {\n      console.log(err);\n      setUpdating(false);\n      toast.error(err.response.data, {\n        position: \"bottom-left\",\n      });\n    }\n  };\n\n  return (\n    <StyledProfile>\n      <ProfileContainer>\n        {loading ? (\n          <p>Loading...</p>\n        ) : (\n          <form onSubmit={handleSubmit}>\n            <h3>User Profile</h3>\n            {user.isAdmin ? (\n              <Admin>Admin</Admin>\n            ) : (\n              <Customer>Customer</Customer>\n            )}\n            <label htmlFor=\"name\">Name:</label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={user.name}\n              onChange={(e) => setUser({ ...user, name: e.target.value })}\n            />\n            <label htmlFor=\"email\">Email:</label>\n            <input\n              type=\"text\"\n              id=\"email\"\n              value={user.email}\n              onChange={(e) => setUser({ ...user, email: e.target.value })}\n            />\n            <label htmlFor=\"password\">Password:</label>\n            <input\n              type=\"text\"\n              value={user.password}\n              id=\"password\"\n              onChange={(e) => setUser({ ...user, password: e.target.value })}\n            />\n            <button>{updating ? \"Updating\" : \"Update Profile\"}</button>\n          </form>\n        )}\n      </ProfileContainer>\n    </StyledProfile>\n  );\n};\n\nexport default UserProfile;\n\nconst StyledProfile = styled.div`\n  margin: 3rem;\n  display: flex;\n  justify-content: center;\n`;\n\nconst ProfileContainer = styled.div`\n  max-width: 500px;\n  width: 100%;\n  height: auto;\n  display: flex;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  border-radius: 5px;\n  padding: 2rem;\n\n  form {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n\n    h3 {\n      margin-bottom: 0.5rem;\n    }\n\n    label {\n      margin-bottom: 0.2rem;\n      color: gray;\n    }\n    input {\n      margin-bottom: 1rem;\n      outline: none;\n      border: none;\n      border-bottom: 1px solid gray;\n    }\n  }\n`;\n\nconst Admin = styled.div`\n  color: rgb(253, 181, 40);\n  background: rgb(253, 181, 40, 0.12);\n  padding: 3px 5px;\n  border-radius: 3px;\n  font-size: 14px;\n  margin-bottom: 1rem;\n`;\nconst Customer = styled.div`\n  color: rgb(38, 198, 249);\n  background-color: rgb(38, 198, 249, 0.12);\n  padding: 3px 5px;\n  border-radius: 3px;\n  font-size: 14px;\n  margin-bottom: 1rem;\n`;\n"]},"metadata":{},"sourceType":"module"}